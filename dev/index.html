<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · AdaptiveSparseGrids.jl</title><link rel="canonical" href="https://jacobadenbaum.github.io/AdaptiveSparseGrids.jl/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">AdaptiveSparseGrids.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Basic-construction/usage:"><span>Basic construction/usage:</span></a></li><li><a class="tocitem" href="#Functions-can-return-named-arguments"><span>Functions can return named arguments</span></a></li><li><a class="tocitem" href="#Integrating-out-over-a-dimension"><span>Integrating out over a dimension</span></a></li><li><a class="tocitem" href="#Project-Status"><span>Project Status</span></a></li><li class="toplevel"><a class="tocitem" href="#AdaptiveSparseGrids"><span>AdaptiveSparseGrids</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/jacobadenbaum/PanelLag.jl/blob/master/docs/src/index.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="AdaptiveSparseGrids.jl"><a class="docs-heading-anchor" href="#AdaptiveSparseGrids.jl">AdaptiveSparseGrids.jl</a><a id="AdaptiveSparseGrids.jl-1"></a><a class="docs-heading-anchor-permalink" href="#AdaptiveSparseGrids.jl" title="Permalink"></a></h1><p>This repository provides an implementation of Linear Interpolation via sparse adaptive grids (using hierarchical linear basis functions) in Julia.  This interpolation method allows one to approximate high dimensional functions to a high degree of accuracy with grid point requirements that grow with a polynomial in the dimension (rather than exponentially).  In practice, this can be used to approximate very high dimensional functions and integrals.</p><p>The main drawback is that evaluating the interpolant is more costly than with standard interpolation methods, and grows with the dimension of the problem.  In many applications, this cost can be worth paying, since what one loses in more costly interpolation calls, one gains in needing to evaluate the (costly) function that is being approximated at <em>far</em> fewer grid points.</p><p>See Ma and Zabras (2009) or Brumm and Scheidegger (2017) for more details on the mathematics.</p><h2 id="Basic-construction/usage:"><a class="docs-heading-anchor" href="#Basic-construction/usage:">Basic construction/usage:</a><a id="Basic-construction/usage:-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-construction/usage:" title="Permalink"></a></h2><pre><code class="language-julia">using AdaptiveSparseGrids

# Bounds
lb  = zeros(2)
ub  = ones(2)

# True function to approximate (in practice, this function is costly to
# evaluate)
f(x) = 1/(sum(xv^2 for xv in x) + 0.3)


# Construct our approximation (this will evaluate f at the needed points, using
# all available threads)
fun = AdaptiveSparseGrid(f, lb, ub,
                         max_depth = 10,    # The maximum depth of basis elements in
                                            # each dimension
                         tol = 1e-3)        # Add nodes when
                                            # min(abs(alpha/f(x)), abs(alpha)) &lt; tol

# Evaluating fun
x = rand(2)
fun(x)          # returns value of fun at x
fun(x, 1)       # returns value of fun[1] at x (if f: R^n -&gt; R^m with m &gt; 1)

# Check how many basis elements we used (dimension of the approximation in
# function space)
length(fun)</code></pre><h2 id="Functions-can-return-named-arguments"><a class="docs-heading-anchor" href="#Functions-can-return-named-arguments">Functions can return named arguments</a><a id="Functions-can-return-named-arguments-1"></a><a class="docs-heading-anchor-permalink" href="#Functions-can-return-named-arguments" title="Permalink"></a></h2><p>The return type of the functions can be named tuples.  You can reference the fieldnames later when accessing the results!</p><pre><code class="language-julia">lb  = zeros(2)
ub  = ones(2)
fun = AdaptiveSparseGrid(lb, ub) do (x, y)
  (a = 1/( abs(0.5 - x^2 - y^2) + 0.3),
   b = sin(x) * cos(y))
end

# Evaluate the function
x = [0.1, 0.2]
fun(x)          # returns (a = 1.3328486358686777, b = 0.09784904745121431)
fun(x, :a)      # returns 1.3328486358686775
fun(x).a        # returns 1.3328486358686775</code></pre><h2 id="Integrating-out-over-a-dimension"><a class="docs-heading-anchor" href="#Integrating-out-over-a-dimension">Integrating out over a dimension</a><a id="Integrating-out-over-a-dimension-1"></a><a class="docs-heading-anchor-permalink" href="#Integrating-out-over-a-dimension" title="Permalink"></a></h2><p>You can also integrate out a dimension from your approximation</p><pre><code class="language-julia">lb  = zeros(2)
ub  = [2pi, pi/4]
d   = 2
fun = AdaptiveIntegral((x,y) -&gt; sin(x) * cos(y), lb, ub, d)   # Integrates out the dth

# Evaluate the integral
fun(pi/2,1)     # returns 0.7070484622124219 (truth is sqrt(2)/2)
fun(pi/4,1)     # returns 0.4999225237591045 (truth is 0.5)</code></pre><p>Specifying <code>d</code> as collection of dimensions will integrate out over all of them. I haven&#39;t yet implemented integrating over anything other than the full domain in each of the specified dimensions, but that wouldn&#39;t be too hard to do.</p><h2 id="Project-Status"><a class="docs-heading-anchor" href="#Project-Status">Project Status</a><a id="Project-Status-1"></a><a class="docs-heading-anchor-permalink" href="#Project-Status" title="Permalink"></a></h2><p>This repository is a work in progress.  API changes may come without warning (although I will obviously try not to break things where possible).  The exported API is quite simple, and so my guess is that there won&#39;t be many changes, although internals may get shifted around as needed.</p><h1 id="AdaptiveSparseGrids"><a class="docs-heading-anchor" href="#AdaptiveSparseGrids">AdaptiveSparseGrids</a><a id="AdaptiveSparseGrids-1"></a><a class="docs-heading-anchor-permalink" href="#AdaptiveSparseGrids" title="Permalink"></a></h1><ul><li><a href="#AdaptiveSparseGrids.drive_to_college!-Tuple{Any,Any}"><code>AdaptiveSparseGrids.drive_to_college!</code></a></li><li><a href="#AdaptiveSparseGrids.find_parents!-Tuple{AdaptiveSparseGrid,Any,Any}"><code>AdaptiveSparseGrids.find_parents!</code></a></li><li><a href="#AdaptiveSparseGrids.refinegrid!-Tuple{Any,AdaptiveSparseGrid}"><code>AdaptiveSparseGrids.refinegrid!</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="AdaptiveSparseGrids.drive_to_college!-Tuple{Any,Any}" href="#AdaptiveSparseGrids.drive_to_college!-Tuple{Any,Any}"><code>AdaptiveSparseGrids.drive_to_college!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>This function inserts the children into the list of nodes for the function approximation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jacobadenbaum/PanelLag.jl/blob/d79e78f69c007c451d32ba44e46645127c13e618/src/AdaptiveSparseGrids.jl#LL665-L667">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AdaptiveSparseGrids.find_parents!-Tuple{AdaptiveSparseGrid,Any,Any}" href="#AdaptiveSparseGrids.find_parents!-Tuple{AdaptiveSparseGrid,Any,Any}"><code>AdaptiveSparseGrids.find_parents!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Find the parents of the node <code>child</code> and insert them into the list of parents</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jacobadenbaum/PanelLag.jl/blob/d79e78f69c007c451d32ba44e46645127c13e618/src/AdaptiveSparseGrids.jl#LL618-L620">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AdaptiveSparseGrids.refinegrid!-Tuple{Any,AdaptiveSparseGrid}" href="#AdaptiveSparseGrids.refinegrid!-Tuple{Any,AdaptiveSparseGrid}"><code>AdaptiveSparseGrids.refinegrid!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Proceeds in 4 steps     1) Obtain the list of possible child nodes to be created     2) Remove duplicates     3) Evalute the function     4) Insert the points into the grid</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jacobadenbaum/PanelLag.jl/blob/d79e78f69c007c451d32ba44e46645127c13e618/src/AdaptiveSparseGrids.jl#LL530-L536">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 4 February 2021 19:48">Thursday 4 February 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
